# はじめに

## 「AIに頼んだのに、なんか微妙」の正体

「ChatGPTに文章を書いてもらったけど、なんか微妙」
「画像生成AIでロゴを作ったけど、イメージと違う」
「Claudeにコードを書かせたけど、手直しが多すぎる」

AIを使ったことがある人なら、誰でもこの経験があるはずです。

最初は「すごい！」と思ったのに、実際に使い込むほど「なんか違う」が増えていく。

これはAIの能力が低いからでしょうか？

**違います。**

問題は、私たちが**お願いのしかた**を間違えていることにあります。

---

## 「全部やって」と頼むと、70%で止まる

AIに大きなタスクを丸投げすると、だいたい**70%の完成度**で止まります[^accuracy]。

なぜか？

理由は単純です。**AIには「見える範囲」に限界がある**からです。

2023年、スタンフォード大学の研究者たちが興味深い論文を発表しました。
**「Lost in the Middle」**——LLM（大規模言語モデル）が長い入力の**中間部分を忘れやすい**という現象です。

つまり：

- 入力が長くなるほど、中間の情報は忘れられる
- 大きなお願いほど、AIは「全体像」を見失う
- 結果として、70%くらいの精度で止まってしまう

逆に言えば：

- **入力を小さくすれば、AIは全部覚えている**
- 小さなお願いを積み重ねれば、精度は98%まで上がる[^accuracy]

---

## 「地図」で考えてみる

![スコープの違い：世界地図で探す vs 商店街マップで探す](./images/scope_comparison.png)

AIにお願いするとき、あなたは「地図」を渡しているようなものです。

「美味しいラーメン屋を探して」（13文字）
→ どこの？何軒？基準は？
→ AIは日本中のラーメン屋から推測する必要がある

「この駅前商店街のラーメン屋3軒を比較して」（20文字）
→ 場所・数・目的が明確
→ AIは狭い範囲を確実に調べられる

文字数は後者の方がほぼ2倍。
でも、AIが「見る範囲」は後者の方がずっと小さい。

これが「小さく」の本当の意味です。

> ⚠️ **注意：「小さく」の意味**
>
> ここで言う「小さく」は、**文字数の話ではありません**。
>
> - ❌ 「全部やって」（5文字）→ タスクは巨大
> - ✅ 「この関数のエラーハンドリングを追加して」（19文字）→ タスクは小さい
>
> **タスクのスコープ（範囲）を小さくする**という意味です。

```text
【「小さい」の本当の意味】

キーワード：AIが考える範囲を狭める

❌ 文字数が少ない ≠ 小さいタスク
   「全部やって」（5文字）
   　　↓
   指示は短いが、AIが考える範囲は無限大
   　　↓
   精度70%で止まる

✅ 範囲が明確 ＝ 小さいタスク
   「ユーザー登録APIのバリデーション処理を書いて」（23文字）
   　　↓
   指示は長いが、AIが考える範囲は狭い
   　　↓
   精度98%を達成

つまり「小さく」とは、
「文字数を減らす」ことではなく、
「AIが推測する範囲を狭める」ことです。
```

これが、本書で紹介する**「コンテキスト縮小戦略」**の核心です。

[^accuracy]: 「70%」「98%」は著者による概念的な目安であり、特定の研究から直接引用した数値ではありません。TaskBench (NeurIPS 2024) では、シンプルなタスク（1-2ツール）で96%、複雑なタスク（6ツール以上）で39%という精度差が報告されており、タスクの複雑さと精度の反比例関係を示しています。Stanford大学の「Lost in the Middle」論文は、長いコンテキストの中間部分の情報が失われやすいことを実証しています。

---

## でも、小さくするだけじゃダメ

「じゃあ、細かく指示すればいいんでしょ？」

半分正解で、半分間違いです。

確かに、**細かく指示すれば精度は上がります**。
AIに「何をすべきか」「何をすべきでないか」を明確に伝えれば、迷わずに正確な出力を返してくれます。

しかし、**細かすぎると別の問題が起きます**。

AIには**推論する力**があります。
こちらが言わなくても、文脈から判断して、適切な提案をしてくれる能力。
アイデアを出し、選択肢を示し、壁打ち相手になってくれる能力。

**細かく指示しすぎると、この推論の力を殺してしまう**のです。

```text
❌ 細かすぎる指示：
「3つの選択肢を出して。1つ目はA、2つ目はB、3つ目はCにして」
→ AIは指示通りに出すだけで、自分で考えない

✅ 余白を残した指示：
「このアプローチで良いと思うんだけど、どう思う？」
→ AIは自分の知識を使って、別の視点を提案できる
```

だから本書のサブタイトルは「**小さく、でも余白を残して**」なのです。

---

## 2つの使い方を使い分ける

AIを効果的に使うには、**2つのモード**を意識して使い分ける必要があります。

### 1. 精度モード：実行させたい時

- 明確で具体的な指示
- スコープを絞る
- 検証可能な出力を求める
- 例：「この関数のテストコードを書いて」

### 2. 推論モード：考えさせたい時

- 余白を残した指示
- 選択肢を提案してもらう
- 壁打ち相手になってもらう
- 例：「このアーキテクチャの問題点を指摘して」

**両方を使いこなせる人**が、AIを本当に活用できる人です。

---

## この本で学べること

本書は7つのパートで構成されています。

**第1部「なぜAIは期待通りに動かないのか？」** では、誰もが経験する「70%問題」の原因を解説します。

**第2部「AIの見える範囲には限界がある」** では、「Lost in the Middle」問題を紹介し、なぜ小さく分けることが有効なのかを説明します。

**第3部「細かく指示する──精度を上げる」** では、スコープ収束パターンと二段階AI活用を紹介します。

**第4部「曖昧にする──推論を引き出す」** では、あえて余白を残すテクニックを解説します。

**第5部「よくある失敗とその対処法」** では、Before/After形式で失敗パターンと解決策を見せます。

**第6部「VSCodeでの実践」** では、ファイル分割の考え方と、AIへの渡し方を具体的に示します。

**第7部「AIと人間の新しい役割分担」** では、人間の仕事が「分けること」に変わっていく未来を展望します。

---

## この本の位置づけ

本書は、姉妹編**「AIエージェント開発は仕様が9割」**と対をなす本です。

| 項目 | 本書（思想編） | 姉妹編（実践編） |
| --- | --- | --- |
| 対象読者 | AIを使う全ての人 | エンジニア |
| 内容 | 普遍的な原則 | 具体的な7文書、ツール |
| 分量 | 80-120ページ | 詳細なワークフロー |

本書を読んで「なるほど」と思った方は、ぜひ姉妹編も手に取ってみてください。
開発者向けの具体的な実践方法が詳しく解説されています。

---

## さあ、始めましょう

AIは、正しく使えば強力なパートナーになります。

「なんか微妙」を「期待以上」に変える。

そのための原則は、驚くほどシンプルです。

**小さく、でも余白を残して。**

この原則を、一緒に学んでいきましょう。

<div class="ai-samurai-dojo">

## 🥷 AI侍道場 - 本書の案内人

![AI侍とDJ町娘](./images/characters.png)

【AI侍】「わしはAI侍。AIと人間の協働を探求する者である」

【DJ町娘】「私はDJ町娘です！ヘッドフォンがトレードマーク🎧 AI侍さんの話を聞いて、一緒に学んでいきます！」

【AI侍】「本書では、わしらが各章の終わりに登場し、その章で学んだことを振り返る」

【DJ町娘】「難しい話も、対話形式で分かりやすく解説しますね✨」

---

### 🗡️ AI侍の秘伝書

本書を読み進める上での心得を授ける。

#### 心得その1：「小さく」は文字数ではない

本書のタイトルにある「小さく」——これを「短く書く」と誤解してはならぬ。

- ❌ 「全部やって」（5文字）→ AIには巨大なタスク
- ✅ 「ユーザー登録APIのバリデーション処理を書いて」（23文字）→ AIには小さなタスク

**AIが推測する範囲を狭める**——これが「小さく」の真意である。

#### 心得その2：余白は弱さではない

「細かく指示しないと不安」——その気持ちは分かる。だが、**余白を残すことでAIの力を引き出せる**。

- 精度が欲しい時 → 細かく指示する（精度モード）
- アイデアが欲しい時 → 余白を残す（推論モード）

両方を使い分けるのが、AI活用の極意である。

#### 心得その3：失敗から学べ

本書には失敗パターンが多く登場する。「こうすればうまくいく」だけでなく、「こうすると失敗する」を知ることで、同じ轍を踏まずに済む。

---

### 🎧 DJ町娘のまとめ

【DJ町娘】「つまり、この本のポイントは3つですね！」

1. **「小さく」はスコープの話**——文字数じゃない
2. **余白を残すのも大事**——AIに考えさせる
3. **失敗パターンを知る**——同じミスを繰り返さない

【DJ町娘】「AI侍さん、これで読者の皆さんも準備万端ですね！」

【AI侍】「うむ。では、第1部へ進むとしよう。AIが期待通りに動かない本当の理由を、一緒に解き明かしていく」

</div>
