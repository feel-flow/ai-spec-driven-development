---
name: comment-analysis
description: コードコメントの正確性、完全性、長期的な保守性を分析する。JSDoc、コメント、README等のドキュメントが変更された場合に使用。
---

# Comment Analysis スキル

## 目的

コードコメントの正確性、完全性、長期的な保守性を分析し、技術的負債を防ぐ。

## 検証プロセス

### 1. 事実精度の確認

- 関数署名（パラメータ、戻り値の型）が一致しているか
- 説明された動作が実際のコードと一致しているか
- 参照されている型、関数、変数が存在するか

### 2. 完全性の評価

- 重要な仮定がドキュメント化されているか
- 副作用が記載されているか
- エラー状態が説明されているか
- 複雑なアルゴリズムの解説があるか

### 3. 長期的価値の評価

- 「なぜ」を説明しているか（「何を」だけでなく）
- 非自明なロジックを説明しているか
- 過度に冗長でないか

### 4. 誤解要素の特定

- 曖昧な表現の有無
- 古い参照の有無
- 時代遅れな仮定の有無

## 出力形式

```markdown
# Comment Analysis Results

## Critical Issues（事実として不正確）

### [ファイル名:行番号]

- コメント: "..."
- 問題: コメントが実際のコードと矛盾している
- 実際のコード: ...
- 推奨修正: ...

## Improvement Opportunities（改善可能）

### [ファイル名:行番号]

- コメント: "..."
- 問題: 情報が不完全
- 推奨追加内容: ...

## Positive Findings（良い例）

### [ファイル名:行番号]

- コメント: "..."
- 評価: 「なぜ」を適切に説明している

## Summary

- Critical Issues: X
- Improvement Opportunities: X
- Positive Findings: X
```

## 注意事項

- 変更されたファイルのコメントのみを分析
- 事実の不正確さを最優先で報告
- 良い例も報告して学習を促進
- 主観的な「スタイル」の指摘は避ける
