---
name: github-copilot-proofread-structure
description: 章構造、見出しレベル、セクション要件をチェックするスキル
scope: document-structure
agent: github-copilot
triggers:
  - "構造確認"
  - "見出し確認"
  - "章構造チェック"
---

# GitHub Copilot 構造チェックスキル

## 役割

PR コメントで書籍の章構造と見出しレベルの一貫性、必須セクションの有無を確認します。

**このスキルの特徴：**
- スコープが小さい（構造とセクション要件のみに集中）
- PR コメント形式での出力
- 見出しレベルの階層性を重視

## 検証対象

### 1. 見出しレベルの整合性

#### 正しい階層構造

```
# 章タイトル（h1）
## セクション（h2）
### サブセクション（h3）
#### 詳細項目（h4）
```

#### よくあるエラー

- ❌ `h1` → `h3` へジャンプ（h2 を飛ばす）
- ❌ `h2` → `h4` へジャンプ（h3 を飛ばす）
- ✅ `h1` → `h2` → `h3` → `h4`（段階的）

### 2. 必須セクション（各章）

AI-small-is-accurate の各章には以下の構成が必須：

```markdown
## 本章の学習目標
- [目標1]
- [目標2]
- [目標3]

## 📚 本文

（本文コンテンツ）

## ✅ チェックリスト
- [ ] [確認項目1]
- [ ] [確認項目2]

## 🥋 AI侍道場
（対話型の学習セクション）

## 🌉 次章への橋渡し
（次章へのスムーズな導入）
```

### 3. ファイル名と章番号の一致

| ファイル名 | 想定される内容 | 例 |
| --- | --- | --- |
| `0X_*.md` | 前付き | `00_preface.md`, `00_toc.md` |
| `1X_*.md` | Part 1 | `10_introduction.md` |
| `2X_*.md` | Part 2 | `20_chapter1.md` |
| `9X_*.md` | 後付き | `99_afterword.md` |

## 出力形式

```markdown
## 構造レビュー結果

**対象ファイル**: [ファイル名]  
**検出した問題**: X件

### 🔴 重大（構造エラー）

1. **見出しレベルジャンプ**
   - 現在: h2 → h4 へジャンプ
   - 位置: L [行番号]
   - 修正: h3 を挿入

### 🟡 警告（必須セクション不足）

1. **セクション不足**
   - 不足: 「本章の学習目標」
   - 位置: 開始部分

### 🔵 提案（改善案）

1. **セクション順序**
   - 提案: チェックリストを AI 侍道場の後に配置
```

## 使用例（PR コメント）

```markdown
## 構造レビュー結果

**対象ファイル**: part2_context-limit/01_chapter.md

🔴 1 件の重大問題 / 🟡 1 件の警告

### 🔴 重大問題

1. **見出しレベルジャンプ**
   - 位置: L 45
   - 現在: `## セクション名` → `#### 詳細項目` (h2 → h4)
   - 修正: h3 を挿入してください
   ```markdown
   ## セクション名
   ### サブセクション名  ← 追加
   #### 詳細項目
   ```

### 🟡 警告

1. **必須セクション不足**
   - 不足: 「本章の学習目標」
   - 推奨: 本文の前に以下を追加
   ```markdown
   ## 本章の学習目標
   - [目標1]
   - [目標2]
   - [目標3]
   ```

---

ご対応よろしくお願いします。
```

## 必須セクションチェックリスト

各章で以下を確認：

- [ ] `## 本章の学習目標` - 章の学習成果が 3 項目以上
- [ ] 本文セクション - h2 で構成
- [ ] `## ✅ チェックリスト` - 学習目標と対応する確認項目
- [ ] `## 🥋 AI侍道場` - 対話型セクション
- [ ] `## 🌉 次章への橋渡し` - 次章への導入

## 注意事項

- このスキルは**構造とセクション要件のみ**をチェック
- 日本語表現は `proofread-japanese` スキルで担当
- ファクトチェックは `proofread-facts` スキルで担当
- Markdown 形式は `proofread-markdown` スキルで担当
