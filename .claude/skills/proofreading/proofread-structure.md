---
name: proofread-structure
description: 章のフォーマット・構造が規定に準拠しているかチェックするスキル
triggers:
  - "構造チェックして"
  - "/proofread-structure"
---

# 章構造検証スキル

## 役割

章のフォーマットが書籍の規定構造に準拠しているかを検証します。

## 基準構造（本プロジェクトの章パターン）

### 章の必須要素

以下の順序で必須要素が含まれているかを検証します：

```markdown
# 第X章　[章タイトル]

## この章で学ぶこと

- [学習目標1]
- [学習目標2]
- [学習目標3]

---

[本文セクション]

---

## 章末チェックリスト

- [ ] [確認項目1]
- [ ] [確認項目2]

---

## 次章への橋渡し

[次章の予告と接続]
```

### 部の扉ページ構造

```markdown
![第X部：タイトル](../images/partX-*.jpeg)

**［第X部］** [部の概要説明]

---

# 第X章　[最初の章タイトル]
```

## 検証項目

### 1. 必須セクションの存在チェック

| セクション | 必須 | パターン |
| --- | --- | --- |
| 章タイトル | ✅ | `# 第X章　` で始まる |
| 学習目標 | ✅ | `## この章で学ぶこと` |
| 章末チェックリスト | ✅ | `## 章末チェックリスト` |
| 次章橋渡し | ✅ | `## 次章への橋渡し` |
| 画像生成プロンプト | 任意 | `## 画像生成プロンプト` |

### 2. 学習目標の検証

- 項目数：3〜5個が適切
- 形式：箇条書き（`-` または `*`）
- 内容：動詞で始まる（「理解する」「学ぶ」「把握する」など）

```
🔴 悪い例：
- AIの限界
- プロジェクト管理

✅ 良い例：
- AIの限界を理解する
- プロジェクト管理の手法を学ぶ
```

### 3. チェックリストの検証

- 形式：`- [ ]` 形式であること
- 項目数：3〜6個が適切
- 内容：動詞で終わる行動可能な項目

```
🔴 悪い例：
- AIの活用
- [ ] 理解

✅ 良い例：
- [ ] 最近のPRサイズを確認し、200行を超えているものを特定する
- [ ] 仕様がチャットログにしか残っていないケースを洗い出す
```

### 4. 見出しレベルの検証

#### 許可される見出し構造

```
# H1 - 章タイトル（1つのみ）
## H2 - メインセクション
### H3 - サブセクション
#### H4 - 細分化（任意）
```

#### 検出すべき問題

- H1が複数存在する
- H2→H4の飛び越し（H3をスキップ）
- H1→H3の飛び越し（H2をスキップ）

```
🔴 悪い例：
# 第1章　タイトル
## セクション1
#### 詳細  ← H3をスキップしている

✅ 良い例：
# 第1章　タイトル
## セクション1
### サブセクション
#### 詳細
```

### 5. セクション順序の検証

正しい順序：

1. 章タイトル（`# 第X章`）
2. 学習目標（`## この章で学ぶこと`）
3. 区切り線（`---`）
4. 本文セクション（複数の `##` / `###`）
5. 区切り線（`---`）
6. チェックリスト（`## 章末チェックリスト`）
7. 区切り線（`---`）
8. 次章橋渡し（`## 次章への橋渡し`）
9. （任意）画像生成プロンプト（`## 画像生成プロンプト`）

### 6. 区切り線の検証

- `---` の前後に空行があること
- 主要セクション間に区切り線があること

```
🔴 悪い例：
テキスト
---
次のセクション

✅ 良い例：
テキスト

---

次のセクション
```

## 出力形式

```markdown
### 構造検証結果

#### 必須要素チェック

| 要素 | 状態 | 備考 |
| --- | --- | --- |
| 章タイトル | ✅ / 🔴 | [詳細] |
| 学習目標 | ✅ / 🔴 | [項目数: N個] |
| チェックリスト | ✅ / 🔴 | [詳細] |
| 次章橋渡し | ✅ / 🔴 | [詳細] |

#### 🔴 構造の問題

1. **[行XX]** 見出しレベルの飛び越し
   - 現在: `## セクション` → `#### 詳細`
   - 推奨: `### サブセクション` を間に追加

2. **[行XX]** 必須セクション欠落
   - 欠落: `## 章末チェックリスト`
   - 推奨: 章末に追加

#### 🟡 構造の警告

1. **学習目標の項目数**: 2個（推奨: 3〜5個）

2. **チェックリスト形式**: 行XX
   - 現在: `- 確認項目`
   - 推奨: `- [ ] 確認項目`

#### ✅ 構造OK

- 見出しレベルの構造は正常です
- セクション順序は正しいです
```

## ファイルタイプ別の検証

### 章ファイル（01_*.md, 02_*.md, ...）

- すべての必須要素を検証
- 完全な構造チェックを実施

### 序文・前書き（00_preface.md）

- 学習目標・チェックリスト・橋渡しは不要
- 見出し構造のみ検証

### 目次（00_toc.md）

- 構造検証をスキップ
- リンクの有効性のみ検証

### 部の扉ページ

- 画像参照の存在確認
- 部の説明テキストの存在確認

## チェックリスト

検証時に確認すべき項目：

- [ ] 章タイトルが `# 第X章　` で始まるか
- [ ] 「この章で学ぶこと」セクションが存在するか
- [ ] 学習目標が3〜5個あるか
- [ ] 「章末チェックリスト」セクションが存在するか
- [ ] チェックリストが `- [ ]` 形式か
- [ ] 「次章への橋渡し」セクションが存在するか
- [ ] 見出しレベルの飛び越しがないか
- [ ] 区切り線の前後に空行があるか
