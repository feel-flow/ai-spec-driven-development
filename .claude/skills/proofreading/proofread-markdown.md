---
name: proofread-markdown
description: Markdownの書式とコードブロックの形式を検証するスキル
---

# Markdown形式検証スキル

## 役割

Markdown記法の正確性とコードブロックの品質を検証します。

## 検証項目

### 1. コードブロック

#### 言語指定の必須化

すべてのコードブロックには言語指定が必要です。

````text
🔴 悪い例：
```
const x = 1;
```

✅ 良い例：
```typescript
const x = 1;
```
````

#### 対応言語一覧

| 言語 | 指定子 |
| --- | --- |
| TypeScript | `typescript` または `ts` |
| JavaScript | `javascript` または `js` |
| Python | `python` または `py` |
| Bash/Shell | `bash` または `sh` |
| JSON | `json` |
| YAML | `yaml` または `yml` |
| Markdown | `markdown` または `md` |
| SQL | `sql` |
| HTML | `html` |
| CSS | `css` |
| 汎用テキスト | `text` |
| Mermaid図 | `mermaid` |

#### コードブロックの閉じ忘れ

開始した ``` が閉じられていないかをチェックします。

````text
🔴 悪い例：
```typescript
const x = 1;
// コードブロックが閉じられていない

✅ 良い例：
```typescript
const x = 1;
```
````

#### インデントの統一

コードブロック内のインデントはスペース2つまたは4つで統一。

### 2. リンクと画像

#### 内部リンクの有効性

相対パスで指定されたリンクが実際に存在するかを確認します。

```markdown
<!-- 検証対象 -->
[次の章](./02_next-chapter.md)
![図1](../images/figure1.jpeg)
```

#### 画像の代替テキスト

画像には必ず代替テキスト（alt）を設定します。

```text
🔴 悪い例：
![](../images/diagram.png)

✅ 良い例：
![システム構成図](../images/diagram.png)
```

#### URL形式

- 内部リンク：相対パスを使用
- 外部リンク：`https://` から始まるフルURL

```text
🔴 悪い例：
[リンク](http://example.com)  <!-- httpは非推奨 -->
[リンク](example.com)        <!-- プロトコルなし -->

✅ 良い例：
[リンク](https://example.com)
```

### 3. テーブル

#### 基本形式

```markdown
| ヘッダー1 | ヘッダー2 | ヘッダー3 |
| --- | --- | --- |
| データ1 | データ2 | データ3 |
```

#### テーブルの検証項目

1. **ヘッダー行の存在**
2. **区切り行の正確性**（`|---|---|`）
3. **列数の一致**（全行で同じ列数）
4. **パイプ周りのスペース**（推奨）

```text
🔴 悪い例：
|項目|説明|
|---|---|
|A|説明A|

✅ 良い例：
| 項目 | 説明 |
| --- | --- |
| A | 説明A |
```

#### セル内の制限

- 改行は避ける（`<br>` は使用可能だが非推奨）
- 長いテキストは要約するか、別の形式を検討

### 4. リスト

#### 番号付きリストの連続性

```text
🔴 悪い例：
1. 項目1
3. 項目3  <!-- 2が抜けている -->
4. 項目4

✅ 良い例：
1. 項目1
2. 項目2
3. 項目3
```

**注意**：Markdownでは自動採番されるため、すべて `1.` でも可

#### ネストのインデント

2スペースまたは4スペースで統一。

```text
🔴 悪い例（混在）：
- 項目1
  - サブ項目（2スペース）
    - サブサブ項目（4スペース）← 混在

✅ 良い例：
- 項目1
  - サブ項目
  - サブ項目2
```

#### チェックリスト形式

```text
✅ 正しい形式：
- [ ] 未完了項目
- [x] 完了項目

🔴 誤った形式：
- [] 未完了項目    <!-- スペースなし -->
- [X] 完了項目    <!-- 大文字X -->
- [ ]未完了項目   <!-- 閉じ括弧後にスペースなし -->
```

### 5. 水平線

#### 前後の空行

水平線（`---`）の前後には空行が必要です。

```text
🔴 悪い例：
テキスト
---
次のセクション

✅ 良い例：
テキスト

---

次のセクション
```

#### YAMLフロントマターとの区別

ファイル先頭の `---` はYAMLフロントマターとして解釈されます。

### 6. 特殊記号

#### 絵文字・記号

本プロジェクトで使用される記号：

| 記号 | 用途 | 注意点 |
| --- | --- | --- |
| ✅ | 良い例、完了 | UTF-8環境で表示確認 |
| ❌ | 悪い例、エラー | UTF-8環境で表示確認 |
| 🔴 | 重大な問題 | UTF-8環境で表示確認 |
| 🟡 | 警告 | UTF-8環境で表示確認 |
| 🔵 | 提案 | UTF-8環境で表示確認 |
| → | 変換、遷移 | 全角矢印を使用 |

#### 全角・半角の統一

| 項目 | 推奨 | 例 |
| --- | --- | --- |
| 括弧（テキスト内） | 全角 | （例）、「引用」 |
| 括弧（コード内） | 半角 | (param), [index] |
| コロン（テキスト内） | 全角 | 項目：値 |
| コロン（コード内） | 半角 | key: value |
| 数字 | 半角 | 100, 2024年 |

### 7. 引用ブロック

#### 形式

```markdown
> 引用テキスト
>
> 複数行の場合は空行も `>` を付ける
```

#### ネストした引用

```markdown
> 外側の引用
>
> > ネストした引用
```

### 8. 強調

#### 太字と斜体

| 形式 | Markdown | 用途 |
| --- | --- | --- |
| **太字** | `**テキスト**` | 重要なキーワード |
| *斜体* | `*テキスト*` | 英語の強調、書名 |
| ***太字斜体*** | `***テキスト***` | 特に重要（稀） |

**注意**：日本語では斜体が正しく表示されない環境があるため、太字を推奨

## 出力形式

```markdown
### Markdown検証結果

#### 🔴 コードブロックの問題

1. **行XX-YY**: 言語指定なし
   - 推奨: ` ```typescript ` または適切な言語を指定

2. **行XX**: コードブロック未閉鎖
   - 開始: 行XX
   - 推奨: ` ``` ` で閉じる

#### 🔴 リンク・画像の問題

1. **行XX**: 画像ファイルが見つからない
   - パス: `../images/missing.jpeg`
   - 推奨: ファイルを追加するか、パスを修正

2. **行XX**: 代替テキストなし
   - 現在: `![](../images/fig.png)`
   - 推奨: `![図の説明](../images/fig.png)`

#### 🟡 テーブルの問題

1. **行XX**: 列数不一致
   - ヘッダー: 3列
   - 行XX: 2列
   - 推奨: 列数を統一

#### 🟡 リストの問題

1. **行XX**: チェックリスト形式エラー
   - 現在: `- []項目`
   - 推奨: `- [ ] 項目`

#### 🔵 スタイルの提案

1. **行XX**: 水平線の前後に空行がない
2. **行XX**: テーブルのパイプ周りにスペースがない

---

### Markdown統計

| 項目 | 数 |
| --- | --- |
| コードブロック | X個 |
| 画像 | X個 |
| 内部リンク | X個 |
| 外部リンク | X個 |
| テーブル | X個 |
```

## チェックリスト

検証時に確認すべき項目：

- [ ] すべてのコードブロックに言語指定があるか
- [ ] コードブロックが正しく閉じられているか
- [ ] 画像ファイルが存在するか
- [ ] 画像に代替テキストがあるか
- [ ] 内部リンクが有効か
- [ ] テーブルの列数が一致しているか
- [ ] チェックリストの形式が正しいか
- [ ] 水平線の前後に空行があるか
